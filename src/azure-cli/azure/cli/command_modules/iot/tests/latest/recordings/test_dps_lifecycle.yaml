interactions:
- request:
    body: '{"name": "dps000002"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      Content-Length:
      - '21'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkProvisioningServiceNameAvailability?api-version=2021-10-15
  response:
    body:
      string: '{"nameAvailable":true,"reason":"Invalid","message":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '56'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:09:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-04-29T19:09:08Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:09:10 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {"key1": "value1", "key2": "value2"}, "properties":
      {}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      Content-Length:
      - '124'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Activating","provisioningState":"Accepted","allocationPolicy":"Hashed","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{"key1":"value1","key2":"value2"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfMDUyNGRjMDctYjUzMC00MmVkLWE0MWUtOWM5NWU2NGZhYmUxO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '531'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:09:13 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfMDUyNGRjMDctYjUzMC00MmVkLWE0MWUtOWM5NWU2NGZhYmUxO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:09:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA+9/xo=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{"key1":"value1","key2":"value2"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '712'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:09:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps list
      Connection:
      - keep-alive
      ParameterSetName:
      - -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices?api-version=2021-10-15
  response:
    body:
      string: '{"value":[{"etag":"AAAAAA+9/xo=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{"key1":"value1","key2":"value2"},"sku":{"name":"S1","tier":"Standard","capacity":1}}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '724'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:09:44 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps show
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA+9/xo=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{"key1":"value1","key2":"value2"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '712'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:09:45 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags --set
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA+9/xo=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{"key1":"value1","key2":"value2"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '712'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:09:46 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {"key3": "value3"}, "etag": "AAAAAA+9/xo=",
      "properties": {"state": "Active", "provisioningState": "Succeeded", "iotHubs":
      [], "allocationPolicy": "GeoLatency"}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      Content-Length:
      - '230'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --tags --set
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA+9/xo=","name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{"key3":"value3"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfNTQ3MDIwNjYtMmEwNi00ZmI4LWE2OTktZTQzMTMwODRkMWUyO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '557'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:09:48 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags --set
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfNTQ3MDIwNjYtMmEwNi00ZmI4LWE2OTktZTQzMTMwODRkMWUyO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:10:18 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags --set
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA+9/7U=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{"key3":"value3"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '700'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:10:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA+9/7U=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{"key3":"value3"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '700'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:10:19 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "tags": {}, "etag": "AAAAAA+9/7U=", "properties":
      {"state": "Active", "provisioningState": "Succeeded", "iotHubs": [], "allocationPolicy":
      "GeoLatency"}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      Content-Length:
      - '214'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA+9/7U=","name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfODI2ZGY5ZDItNTM4MS00OTQwLWFmZmMtNjdhMDIzOTczZTE2O3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '542'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:10:21 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfODI2ZGY5ZDItNTM4MS00OTQwLWFmZmMtNjdhMDIzOTczZTE2O3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:10:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --tags
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA++ACc=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '685'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:10:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2021-10-15
  response:
    body:
      string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '157'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:10:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA++ACc=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '685'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:10:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights": "ServiceConfig,
      DeviceConnect, EnrollmentWrite"}, {"keyName": "policy000003", "rights": "EnrollmentRead"}]},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy create
      Connection:
      - keep-alive
      Content-Length:
      - '361'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000003","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"EnrollmentRead"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfYjY1NjczNDUtNzkwOC00MTcwLWFmZmQtN2MyZTE4ZWE3M2UxO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '795'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:10:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfYjY1NjczNDUtNzkwOC00MTcwLWFmZmQtN2MyZTE4ZWE3M2UxO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:11:25 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA++ALM=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '685'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:11:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy create
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/keys/policy000003/listkeys?api-version=2021-10-15
  response:
    body:
      string: '{"keyName":"policy000003","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"EnrollmentRead"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '102'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:11:26 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy list
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --dps-name
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2021-10-15
  response:
    body:
      string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000003","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"EnrollmentRead"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:11:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy show
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --dps-name --pn
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/keys/policy000003/listkeys?api-version=2021-10-15
  response:
    body:
      string: '{"keyName":"policy000003","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"EnrollmentRead"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '102'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:11:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy update
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2021-10-15
  response:
    body:
      string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000003","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"EnrollmentRead"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '260'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:11:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA++ALM=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '685'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:11:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights": "ServiceConfig,
      DeviceConnect, EnrollmentWrite"}, {"keyName": "policy000003", "primaryKey":"mock_key",
      "secondaryKey":"mock_key", "rights": "EnrollmentWrite"}]}, "sku": {"name": "S1",
      "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy update
      Connection:
      - keep-alive
      Content-Length:
      - '414'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000003","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfMzg0YzFmZDUtOTM5OS00MWYxLTk0NmUtYmU5OTAzYjhiNjZiO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '796'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:11:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfMzg0YzFmZDUtOTM5OS00MWYxLTk0NmUtYmU5OTAzYjhiNjZiO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy update
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA++ASc=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '685'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy update
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --dps-name --pn -r
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/keys/policy000003/listkeys?api-version=2021-10-15
  response:
    body:
      string: '{"keyName":"policy000003","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"EnrollmentWrite"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '103'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --dps-name --pn
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2021-10-15
  response:
    body:
      string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"},{"keyName":"policy000003","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"EnrollmentWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '261'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name --pn
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA++ASc=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '685'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:02 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"iotHubs": [], "allocationPolicy":
      "GeoLatency", "authorizationPolicies": [{"keyName": "provisioningserviceowner",
      "primaryKey":"mock_key", "secondaryKey":"mock_key", "rights": "ServiceConfig,
      DeviceConnect, EnrollmentWrite"}]}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '304'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g --dps-name --pn
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"name":"dps000002","location":"westus","properties":{"state":"Transitioning","provisioningState":"Accepted","iotHubs":[],"allocationPolicy":"GeoLatency","idScope":null,"authorizationPolicies":[{"keyName":"provisioningserviceowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfM2M4OTAzY2QtOWE5Ni00ZGIxLTk4MjMtNTg2ZmRlNGI5Y2E0O3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '692'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:04 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name --pn
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfM2M4OTAzY2QtOWE5Ni00ZGIxLTk4MjMtNTg2ZmRlNGI5Y2E0O3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g --dps-name --pn
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA++AYE=","name":"dps000002","location":"westus","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"GeoLatency","serviceOperationsHostName":"dps000002.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C317D"},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '685'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps policy delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g --dps-name --pn
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/listkeys?api-version=2021-10-15
  response:
    body:
      string: '{"value":[{"keyName":"provisioningserviceowner","primaryKey":"mock_key","secondaryKey":"mock_key","rights":"ServiceConfig,
        DeviceConnect, EnrollmentWrite"}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '157'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1198'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002?api-version=2021-10-15
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfMDA4YzkwMGMtYmFjMS00NDk1LWFjOTktNThmNzMxMTExMmYxO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:36 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfMDA4YzkwMGMtYmFjMS00NDk1LWFjOTktNThmNzMxMTExMmYxO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps000002/operationResults/aWQ9b3NfaWRfMDA4YzkwMGMtYmFjMS00NDk1LWFjOTktNThmNzMxMTExMmYxO3JlZ2lvbj13ZXN0dXM=?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"name": "dps-dr000004"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      Content-Length:
      - '24'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --edr
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkProvisioningServiceNameAvailability?api-version=2021-10-15
  response:
    body:
      string: '{"nameAvailable":true,"reason":"Invalid","message":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '56'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --edr
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-04-29T19:09:08Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:53 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"enableDataResidency": true}, "sku":
      {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      Content-Length:
      - '105'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --edr
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004?api-version=2021-10-15
  response:
    body:
      string: '{"code":400309,"httpStatusCode":"BadRequest","message":"DataResidency
        is not supported in westus for DPS. Supported regions are \"East US 2 EUAP\",
        \"Brazil South\", and \"Southeast Asia\". If you contact a support representative
        please include this correlation identifier: 0849d883-c1b7-49a3-8c16-da3d369461cc,
        timestamp: 2022-04-29 19:12:55Z, errorcode: IH400309."}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '367'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:55 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 400
      message: Bad Request
- request:
    body: '{"name": "dps-dr000004"}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      Content-Length:
      - '24'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkProvisioningServiceNameAvailability?api-version=2021-10-15
  response:
    body:
      string: '{"nameAvailable":true,"reason":"Invalid","message":null}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '56'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:12:56 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "southeastasia", "properties": {"enableDataResidency": true},
      "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      Content-Length:
      - '112'
      Content-Type:
      - application/json
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004?api-version=2021-10-15
  response:
    body:
      string: '{"name":"dps-dr000004","location":"southeastasia","properties":{"state":"Activating","provisioningState":"Accepted","allocationPolicy":"Hashed","idScope":null,"enableDataResidency":true},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004/operationResults/aWQ9b3NfaWRfYjY4Y2FkMGYtOWM2MC00M2Y4LTlhMmItYjViOWI5MDVkYjJkO3JlZ2lvbj1zb3V0aGVhc3Rhc2lh?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '540'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:13:01 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004/operationResults/aWQ9b3NfaWRfYjY4Y2FkMGYtOWM2MC00M2Y4LTlhMmItYjViOWI5MDVkYjJkO3JlZ2lvbj1zb3V0aGVhc3Rhc2lh?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:13:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps create
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n --location --edr
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004?api-version=2021-10-15
  response:
    body:
      string: '{"etag":"AAAAAA++AjY=","name":"dps-dr000004","location":"southeastasia","properties":{"state":"Active","provisioningState":"Succeeded","iotHubs":[],"allocationPolicy":"Hashed","serviceOperationsHostName":"dps-dr000004.azure-devices-provisioning.net","deviceProvisioningHostName":"global.azure-devices-provisioning.net","idScope":"0ne005C3191","enableDataResidency":true},"resourcegroup":"clitest.rg000001","type":"Microsoft.Devices/provisioningServices","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004","subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","tags":{},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '724'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:13:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004?api-version=2021-10-15
  response:
    body:
      string: 'null'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004/operationResults/aWQ9b3NfaWRfYjJhM2ZmMzctMTkwZS00ZGE2LWI5OWQtY2VkNGZhMzBiNjExO3JlZ2lvbj1zb3V0aGVhc3Rhc2lh?api-version=2021-10-15&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '4'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:13:36 GMT
      expires:
      - '-1'
      location:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004/operationResults/aWQ9b3NfaWRfYjJhM2ZmMzctMTkwZS00ZGE2LWI5OWQtY2VkNGZhMzBiNjExO3JlZ2lvbj1zb3V0aGVhc3Rhc2lh?api-version=2021-10-15
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot dps delete
      Connection:
      - keep-alive
      ParameterSetName:
      - -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-mgmt-iothubprovisioningservices/1.1.0 Python/3.8.3
        (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Devices/provisioningServices/dps-dr000004/operationResults/aWQ9b3NfaWRfYjJhM2ZmMzctMTkwZS00ZGE2LWI5OWQtY2VkNGZhMzBiNjExO3JlZ2lvbj1zb3V0aGVhc3Rhc2lh?api-version=2021-10-15&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:13:51 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
version: 1
