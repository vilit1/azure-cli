interactions:
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-resource/20.0.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2021-04-01
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","type":"Microsoft.Resources/resourceGroups","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2022-04-29T19:04:51Z"},"properties":{"provisioningState":"Succeeded"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '310'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:04:52 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 4}}, "storageEndpoints": {"$default": {"sasTtlAsIso8601":
      "PT1H", "connectionString": "", "containerName": ""}}, "messagingEndpoints":
      {"fileNotifications": {"lockDurationAsIso8601": "PT5S", "ttlAsIso8601": "PT1H",
      "maxDeliveryCount": 10}}, "enableFileUploadNotifications": false, "cloudToDevice":
      {"maxDeliveryCount": 10, "defaultTtlAsIso8601": "PT1H", "feedback": {"lockDurationAsIso8601":
      "PT5S", "ttlAsIso8601": "PT1H", "maxDeliveryCount": 10}}}, "sku": {"name": "S1",
      "capacity": 1}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      Content-Length:
      - '603'
      Content-Type:
      - application/json
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000002","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":4}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1}}'
    headers:
      azure-asyncoperation:
      - https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfNGUxYjI0YmItZDc0Yi00OGRlLThkNTUtNTJmNjIxNDI3MWI2O3JlZ2lvbj13ZXN0dXM=?api-version=2021-07-02&operationSource=other&asyncinfo
      cache-control:
      - no-cache
      content-length:
      - '1071'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:04:57 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-resource-requests:
      - '4999'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfNGUxYjI0YmItZDc0Yi00OGRlLThkNTUtNTJmNjIxNDI3MWI2O3JlZ2lvbj13ZXN0dXM=?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:05:27 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfNGUxYjI0YmItZDc0Yi00OGRlLThkNTUtNTJmNjIxNDI3MWI2O3JlZ2lvbj13ZXN0dXM=?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:05:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfNGUxYjI0YmItZDc0Yi00OGRlLThkNTUtNTJmNjIxNDI3MWI2O3JlZ2lvbj13ZXN0dXM=?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:06:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfNGUxYjI0YmItZDc0Yi00OGRlLThkNTUtNTJmNjIxNDI3MWI2O3JlZ2lvbj13ZXN0dXM=?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Running"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '20'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:06:58 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/locations/westus/operationResults/aWQ9b3NfaWhfNGUxYjI0YmItZDc0Yi00OGRlLThkNTUtNTJmNjIxNDI3MWI2O3JlZ2lvbj13ZXN0dXM=?api-version=2021-07-02&operationSource=other&asyncinfo
  response:
    body:
      string: '{"status":"Succeeded"}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '22'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:07:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub create
      Connection:
      - keep-alive
      ParameterSetName:
      - -n -g --sku
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2021-07-02
  response:
    body:
      string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"a386d5ea-ea90-441a-8263-d816368c84a1","resourcegroup":"clitest.rg000002","etag":"AAAADGd0FFY=","properties":{"locations":[{"location":"West
        US","role":"primary"},{"location":"East US","role":"secondary"}],"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-cert-test000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":4,"partitionIds":["0","1","2","3"],"path":"iot-hub-for-cert-test4qfi","endpoint":"sb://iothub-ns-iot-hub-fo-18849954-651bb96916.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT5S","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None","allowedFqdnList":[]},"sku":{"name":"S1","tier":"Standard","capacity":1},"identity":{"type":"None"},"systemData":{"createdAt":"2022-04-29T19:04:57.2266667Z"}}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1672'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:07:28 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2021-07-02
  response:
    body:
      string: '{"value":[]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '12'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:07:29 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDeGpDQ0FhNmdBd0lCQWdJSU1YdUxjelpCSXJ3d0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURRMU1Wb1hEVEl5DQpNRFV3TWpFNU1EUTFNVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSaGEydHZjblZoTlhGc2RIVTFjM0UxDQpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVPaExrSlpiSXJOOExTellmaUpFDQpab1BaTE0zdGdIUHRNbkU0d2hia05NcXZxWHFUVk5kZE9TR0o2UnR0NTdZTDRRc1ZubW1hZDh3WmJIbGtaUktqDQpkbGZpckR5V1BiWFJna3hWRGR3dk43RjMxdzd6blpDTGlTSFc1ZXR0eDExNFowRE9XWWVNT1UrMFdBN0N0YmdtDQpHeUF2VkQ4U1JuL2RmV3FNclV1TGpQZjlkSzdmb0phaDNNbDVPSGZYQ2lIZ1hRQkI4MFRCa0NJWVRsbm1QVVFMDQo0S0pxSVJZNUk0RHpYR1FsZFBmTkEzK1BKTFg1bUtqb3U5T3FOR2xCWm9sOTlHSnFTcGtXNjkvNFVFMzFlM2lPDQpKUmFHZkdrdTJ6VHF3ellvNkVMTFd4aXp4Q1kvTXNSd0tpd01UM0hObFJXQVlSKzBhbmpmZnp5c1FHWUJZWVdKDQpzd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJlK0lsNXVodzhMVzBIeW11RDArem5NTks1eVV6DQoxOGhtL3VwYys2WXBwY1NkQTlpRjN4ay9PRi9YcllLQkxNRFVOUUw2enhGR0orWm05dHIwSU9ya0lLMGMzaWNIDQo5SmRkNFJjVFFoWXBNbEFiZytFdnZ6ZHFSMzlYVktMN0xhMTBmNXlNTUZzMnRvQXF1MFNVOHBaSEpjL3kraVBVDQorWWZld201aE9ZdldyV2RpZ0R1ajFGQy9ZcHFiK0h1L0U2SXRPdzZIanVnS0s0VXZUdERRVnhnV3ZVRklhcXpTDQp4ZGRIQnZLa0ZEcktUMlk3TzY2Vi9GdEV4VDlmaW1OY2Vrakxua3dpaHlGaVhQa1BLM0MyOVRRQ0xUTEtzM1JrDQppRkVmZkpHeGFSUHJSeENUV2RabEMvZmgxL3B6cHowTnNsQUxRay9LSmNvQ2NGTGJneGVLL3NkKw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1419'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -p
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2021-07-02
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Mon, 02 May 2022
        19:04:51 GMT","thumbprint":"179E19CB015E6ADF12879BD49093CF03870D0A40","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Fri, 29 Apr 2022 19:07:30 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDeGpDQ0FhNmdBd0lCQWdJSU1YdUxjelpCSXJ3d0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURRMU1Wb1hEVEl5DQpNRFV3TWpFNU1EUTFNVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSaGEydHZjblZoTlhGc2RIVTFjM0UxDQpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVPaExrSlpiSXJOOExTellmaUpFDQpab1BaTE0zdGdIUHRNbkU0d2hia05NcXZxWHFUVk5kZE9TR0o2UnR0NTdZTDRRc1ZubW1hZDh3WmJIbGtaUktqDQpkbGZpckR5V1BiWFJna3hWRGR3dk43RjMxdzd6blpDTGlTSFc1ZXR0eDExNFowRE9XWWVNT1UrMFdBN0N0YmdtDQpHeUF2VkQ4U1JuL2RmV3FNclV1TGpQZjlkSzdmb0phaDNNbDVPSGZYQ2lIZ1hRQkI4MFRCa0NJWVRsbm1QVVFMDQo0S0pxSVJZNUk0RHpYR1FsZFBmTkEzK1BKTFg1bUtqb3U5T3FOR2xCWm9sOTlHSnFTcGtXNjkvNFVFMzFlM2lPDQpKUmFHZkdrdTJ6VHF3ellvNkVMTFd4aXp4Q1kvTXNSd0tpd01UM0hObFJXQVlSKzBhbmpmZnp5c1FHWUJZWVdKDQpzd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJlK0lsNXVodzhMVzBIeW11RDArem5NTks1eVV6DQoxOGhtL3VwYys2WXBwY1NkQTlpRjN4ay9PRi9YcllLQkxNRFVOUUw2enhGR0orWm05dHIwSU9ya0lLMGMzaWNIDQo5SmRkNFJjVFFoWXBNbEFiZytFdnZ6ZHFSMzlYVktMN0xhMTBmNXlNTUZzMnRvQXF1MFNVOHBaSEpjL3kraVBVDQorWWZld201aE9ZdldyV2RpZ0R1ajFGQy9ZcHFiK0h1L0U2SXRPdzZIanVnS0s0VXZUdERRVnhnV3ZVRklhcXpTDQp4ZGRIQnZLa0ZEcktUMlk3TzY2Vi9GdEV4VDlmaW1OY2Vrakxua3dpaHlGaVhQa1BLM0MyOVRRQ0xUTEtzM1JrDQppRkVmZkpHeGFSUHJSeENUV2RabEMvZmgxL3B6cHowTnNsQUxRay9LSmNvQ2NGTGJneGVLL3NkKw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"IjVjMDAyZjExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzcyMDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1969'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:07:30 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n -p --verified
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000001","expiry":"Mon,
        02 May 2022 19:04:51 GMT","thumbprint":"179E19CB015E6ADF12879BD49093CF03870D0A40","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Fri, 29 Apr 2022 19:07:30 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDeGpDQ0FhNmdBd0lCQWdJSU1YdUxjelpCSXJ3d0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURRMU1Wb1hEVEl5DQpNRFV3TWpFNU1EUTFNVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSaGEydHZjblZoTlhGc2RIVTFjM0UxDQpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVPaExrSlpiSXJOOExTellmaUpFDQpab1BaTE0zdGdIUHRNbkU0d2hia05NcXZxWHFUVk5kZE9TR0o2UnR0NTdZTDRRc1ZubW1hZDh3WmJIbGtaUktqDQpkbGZpckR5V1BiWFJna3hWRGR3dk43RjMxdzd6blpDTGlTSFc1ZXR0eDExNFowRE9XWWVNT1UrMFdBN0N0YmdtDQpHeUF2VkQ4U1JuL2RmV3FNclV1TGpQZjlkSzdmb0phaDNNbDVPSGZYQ2lIZ1hRQkI4MFRCa0NJWVRsbm1QVVFMDQo0S0pxSVJZNUk0RHpYR1FsZFBmTkEzK1BKTFg1bUtqb3U5T3FOR2xCWm9sOTlHSnFTcGtXNjkvNFVFMzFlM2lPDQpKUmFHZkdrdTJ6VHF3ellvNkVMTFd4aXp4Q1kvTXNSd0tpd01UM0hObFJXQVlSKzBhbmpmZnp5c1FHWUJZWVdKDQpzd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJlK0lsNXVodzhMVzBIeW11RDArem5NTks1eVV6DQoxOGhtL3VwYys2WXBwY1NkQTlpRjN4ay9PRi9YcllLQkxNRFVOUUw2enhGR0orWm05dHIwSU9ya0lLMGMzaWNIDQo5SmRkNFJjVFFoWXBNbEFiZytFdnZ6ZHFSMzlYVktMN0xhMTBmNXlNTUZzMnRvQXF1MFNVOHBaSEpjL3kraVBVDQorWWZld201aE9ZdldyV2RpZ0R1ajFGQy9ZcHFiK0h1L0U2SXRPdzZIanVnS0s0VXZUdERRVnhnV3ZVRklhcXpTDQp4ZGRIQnZLa0ZEcktUMlk3TzY2Vi9GdEV4VDlmaW1OY2Vrakxua3dpaHlGaVhQa1BLM0MyOVRRQ0xUTEtzM1JrDQppRkVmZkpHeGFSUHJSeENUV2RabEMvZmgxL3B6cHowTnNsQUxRay9LSmNvQ2NGTGJneGVLL3NkKw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"IjVjMDAyZjExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzcyMDAwMCI="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1981'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:07:31 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"properties": {"isVerified": true, "certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDeGpDQ0FhNmdBd0lCQWdJSU1YdUxjelpCSXJ3d0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURRMU1Wb1hEVEl5DQpNRFV3TWpFNU1EUTFNVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSaGEydHZjblZoTlhGc2RIVTFjM0UxDQpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVPaExrSlpiSXJOOExTellmaUpFDQpab1BaTE0zdGdIUHRNbkU0d2hia05NcXZxWHFUVk5kZE9TR0o2UnR0NTdZTDRRc1ZubW1hZDh3WmJIbGtaUktqDQpkbGZpckR5V1BiWFJna3hWRGR3dk43RjMxdzd6blpDTGlTSFc1ZXR0eDExNFowRE9XWWVNT1UrMFdBN0N0YmdtDQpHeUF2VkQ4U1JuL2RmV3FNclV1TGpQZjlkSzdmb0phaDNNbDVPSGZYQ2lIZ1hRQkI4MFRCa0NJWVRsbm1QVVFMDQo0S0pxSVJZNUk0RHpYR1FsZFBmTkEzK1BKTFg1bUtqb3U5T3FOR2xCWm9sOTlHSnFTcGtXNjkvNFVFMzFlM2lPDQpKUmFHZkdrdTJ6VHF3ellvNkVMTFd4aXp4Q1kvTXNSd0tpd01UM0hObFJXQVlSKzBhbmpmZnp5c1FHWUJZWVdKDQpzd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJlK0lsNXVodzhMVzBIeW11RDArem5NTks1eVV6DQoxOGhtL3VwYys2WXBwY1NkQTlpRjN4ay9PRi9YcllLQkxNRFVOUUw2enhGR0orWm05dHIwSU9ya0lLMGMzaWNIDQo5SmRkNFJjVFFoWXBNbEFiZytFdnZ6ZHFSMzlYVktMN0xhMTBmNXlNTUZzMnRvQXF1MFNVOHBaSEpjL3kraVBVDQorWWZld201aE9ZdldyV2RpZ0R1ajFGQy9ZcHFiK0h1L0U2SXRPdzZIanVnS0s0VXZUdERRVnhnV3ZVRklhcXpTDQp4ZGRIQnZLa0ZEcktUMlk3TzY2Vi9GdEV4VDlmaW1OY2Vrakxua3dpaHlGaVhQa1BLM0MyOVRRQ0xUTEtzM1JrDQppRkVmZkpHeGFSUHJSeENUV2RabEMvZmgxL3B6cHowTnNsQUxRay9LSmNvQ2NGTGJneGVLL3NkKw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate create
      Connection:
      - keep-alive
      Content-Length:
      - '1439'
      Content-Type:
      - application/json
      ParameterSetName:
      - --hub-name -g -n -p --verified
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/verified-certificate-000005?api-version=2021-07-02
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Mon, 02 May 2022
        19:04:51 GMT","thumbprint":"179E19CB015E6ADF12879BD49093CF03870D0A40","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Fri, 29 Apr 2022 19:07:32 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDeGpDQ0FhNmdBd0lCQWdJSU1YdUxjelpCSXJ3d0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURRMU1Wb1hEVEl5DQpNRFV3TWpFNU1EUTFNVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSaGEydHZjblZoTlhGc2RIVTFjM0UxDQpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVPaExrSlpiSXJOOExTellmaUpFDQpab1BaTE0zdGdIUHRNbkU0d2hia05NcXZxWHFUVk5kZE9TR0o2UnR0NTdZTDRRc1ZubW1hZDh3WmJIbGtaUktqDQpkbGZpckR5V1BiWFJna3hWRGR3dk43RjMxdzd6blpDTGlTSFc1ZXR0eDExNFowRE9XWWVNT1UrMFdBN0N0YmdtDQpHeUF2VkQ4U1JuL2RmV3FNclV1TGpQZjlkSzdmb0phaDNNbDVPSGZYQ2lIZ1hRQkI4MFRCa0NJWVRsbm1QVVFMDQo0S0pxSVJZNUk0RHpYR1FsZFBmTkEzK1BKTFg1bUtqb3U5T3FOR2xCWm9sOTlHSnFTcGtXNjkvNFVFMzFlM2lPDQpKUmFHZkdrdTJ6VHF3ellvNkVMTFd4aXp4Q1kvTXNSd0tpd01UM0hObFJXQVlSKzBhbmpmZnp5c1FHWUJZWVdKDQpzd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJlK0lsNXVodzhMVzBIeW11RDArem5NTks1eVV6DQoxOGhtL3VwYys2WXBwY1NkQTlpRjN4ay9PRi9YcllLQkxNRFVOUUw2enhGR0orWm05dHIwSU9ya0lLMGMzaWNIDQo5SmRkNFJjVFFoWXBNbEFiZytFdnZ6ZHFSMzlYVktMN0xhMTBmNXlNTUZzMnRvQXF1MFNVOHBaSEpjL3kraVBVDQorWWZld201aE9ZdldyV2RpZ0R1ajFGQy9ZcHFiK0h1L0U2SXRPdzZIanVnS0s0VXZUdERRVnhnV3ZVRklhcXpTDQp4ZGRIQnZLa0ZEcktUMlk3TzY2Vi9GdEV4VDlmaW1OY2Vrakxua3dpaHlGaVhQa1BLM0MyOVRRQ0xUTEtzM1JrDQppRkVmZkpHeGFSUHJSeENUV2RabEMvZmgxL3B6cHowTnNsQUxRay9LSmNvQ2NGTGJneGVLL3NkKw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/verified-certificate-000005","name":"verified-certificate-000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"IjVjMDAzODExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzc0MDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1986'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:07:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate list
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2021-07-02
  response:
    body:
      string: '{"value":[{"properties":{"subject":"TESTCERT000001","expiry":"Mon,
        02 May 2022 19:04:51 GMT","thumbprint":"179E19CB015E6ADF12879BD49093CF03870D0A40","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Fri, 29 Apr 2022 19:07:30 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDeGpDQ0FhNmdBd0lCQWdJSU1YdUxjelpCSXJ3d0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURRMU1Wb1hEVEl5DQpNRFV3TWpFNU1EUTFNVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSaGEydHZjblZoTlhGc2RIVTFjM0UxDQpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVPaExrSlpiSXJOOExTellmaUpFDQpab1BaTE0zdGdIUHRNbkU0d2hia05NcXZxWHFUVk5kZE9TR0o2UnR0NTdZTDRRc1ZubW1hZDh3WmJIbGtaUktqDQpkbGZpckR5V1BiWFJna3hWRGR3dk43RjMxdzd6blpDTGlTSFc1ZXR0eDExNFowRE9XWWVNT1UrMFdBN0N0YmdtDQpHeUF2VkQ4U1JuL2RmV3FNclV1TGpQZjlkSzdmb0phaDNNbDVPSGZYQ2lIZ1hRQkI4MFRCa0NJWVRsbm1QVVFMDQo0S0pxSVJZNUk0RHpYR1FsZFBmTkEzK1BKTFg1bUtqb3U5T3FOR2xCWm9sOTlHSnFTcGtXNjkvNFVFMzFlM2lPDQpKUmFHZkdrdTJ6VHF3ellvNkVMTFd4aXp4Q1kvTXNSd0tpd01UM0hObFJXQVlSKzBhbmpmZnp5c1FHWUJZWVdKDQpzd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJlK0lsNXVodzhMVzBIeW11RDArem5NTks1eVV6DQoxOGhtL3VwYys2WXBwY1NkQTlpRjN4ay9PRi9YcllLQkxNRFVOUUw2enhGR0orWm05dHIwSU9ya0lLMGMzaWNIDQo5SmRkNFJjVFFoWXBNbEFiZytFdnZ6ZHFSMzlYVktMN0xhMTBmNXlNTUZzMnRvQXF1MFNVOHBaSEpjL3kraVBVDQorWWZld201aE9ZdldyV2RpZ0R1ajFGQy9ZcHFiK0h1L0U2SXRPdzZIanVnS0s0VXZUdERRVnhnV3ZVRklhcXpTDQp4ZGRIQnZLa0ZEcktUMlk3TzY2Vi9GdEV4VDlmaW1OY2Vrakxua3dpaHlGaVhQa1BLM0MyOVRRQ0xUTEtzM1JrDQppRkVmZkpHeGFSUHJSeENUV2RabEMvZmgxL3B6cHowTnNsQUxRay9LSmNvQ2NGTGJneGVLL3NkKw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"IjVjMDAyZjExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzcyMDAwMCI="},{"properties":{"subject":"TESTCERT000001","expiry":"Mon,
        02 May 2022 19:04:51 GMT","thumbprint":"179E19CB015E6ADF12879BD49093CF03870D0A40","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Fri, 29 Apr 2022 19:07:32 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDeGpDQ0FhNmdBd0lCQWdJSU1YdUxjelpCSXJ3d0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURRMU1Wb1hEVEl5DQpNRFV3TWpFNU1EUTFNVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSaGEydHZjblZoTlhGc2RIVTFjM0UxDQpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVPaExrSlpiSXJOOExTellmaUpFDQpab1BaTE0zdGdIUHRNbkU0d2hia05NcXZxWHFUVk5kZE9TR0o2UnR0NTdZTDRRc1ZubW1hZDh3WmJIbGtaUktqDQpkbGZpckR5V1BiWFJna3hWRGR3dk43RjMxdzd6blpDTGlTSFc1ZXR0eDExNFowRE9XWWVNT1UrMFdBN0N0YmdtDQpHeUF2VkQ4U1JuL2RmV3FNclV1TGpQZjlkSzdmb0phaDNNbDVPSGZYQ2lIZ1hRQkI4MFRCa0NJWVRsbm1QVVFMDQo0S0pxSVJZNUk0RHpYR1FsZFBmTkEzK1BKTFg1bUtqb3U5T3FOR2xCWm9sOTlHSnFTcGtXNjkvNFVFMzFlM2lPDQpKUmFHZkdrdTJ6VHF3ellvNkVMTFd4aXp4Q1kvTXNSd0tpd01UM0hObFJXQVlSKzBhbmpmZnp5c1FHWUJZWVdKDQpzd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJlK0lsNXVodzhMVzBIeW11RDArem5NTks1eVV6DQoxOGhtL3VwYys2WXBwY1NkQTlpRjN4ay9PRi9YcllLQkxNRFVOUUw2enhGR0orWm05dHIwSU9ya0lLMGMzaWNIDQo5SmRkNFJjVFFoWXBNbEFiZytFdnZ6ZHFSMzlYVktMN0xhMTBmNXlNTUZzMnRvQXF1MFNVOHBaSEpjL3kraVBVDQorWWZld201aE9ZdldyV2RpZ0R1ajFGQy9ZcHFiK0h1L0U2SXRPdzZIanVnS0s0VXZUdERRVnhnV3ZVRklhcXpTDQp4ZGRIQnZLa0ZEcktUMlk3TzY2Vi9GdEV4VDlmaW1OY2Vrakxua3dpaHlGaVhQa1BLM0MyOVRRQ0xUTEtzM1JrDQppRkVmZkpHeGFSUHJSeENUV2RabEMvZmgxL3B6cHowTnNsQUxRay9LSmNvQ2NGTGJneGVLL3NkKw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/verified-certificate-000005","name":"verified-certificate-000005","type":"Microsoft.Devices/IotHubs/Certificates","etag":"IjVjMDAzODExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzc0MDAwMCI="}]}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '3968'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:07:32 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate show
      Connection:
      - keep-alive
      ParameterSetName:
      - --hub-name -g -n
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2021-07-02
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Mon, 02 May 2022
        19:04:51 GMT","thumbprint":"179E19CB015E6ADF12879BD49093CF03870D0A40","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Fri, 29 Apr 2022 19:07:30 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDeGpDQ0FhNmdBd0lCQWdJSU1YdUxjelpCSXJ3d0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURRMU1Wb1hEVEl5DQpNRFV3TWpFNU1EUTFNVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSaGEydHZjblZoTlhGc2RIVTFjM0UxDQpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVPaExrSlpiSXJOOExTellmaUpFDQpab1BaTE0zdGdIUHRNbkU0d2hia05NcXZxWHFUVk5kZE9TR0o2UnR0NTdZTDRRc1ZubW1hZDh3WmJIbGtaUktqDQpkbGZpckR5V1BiWFJna3hWRGR3dk43RjMxdzd6blpDTGlTSFc1ZXR0eDExNFowRE9XWWVNT1UrMFdBN0N0YmdtDQpHeUF2VkQ4U1JuL2RmV3FNclV1TGpQZjlkSzdmb0phaDNNbDVPSGZYQ2lIZ1hRQkI4MFRCa0NJWVRsbm1QVVFMDQo0S0pxSVJZNUk0RHpYR1FsZFBmTkEzK1BKTFg1bUtqb3U5T3FOR2xCWm9sOTlHSnFTcGtXNjkvNFVFMzFlM2lPDQpKUmFHZkdrdTJ6VHF3ellvNkVMTFd4aXp4Q1kvTXNSd0tpd01UM0hObFJXQVlSKzBhbmpmZnp5c1FHWUJZWVdKDQpzd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJlK0lsNXVodzhMVzBIeW11RDArem5NTks1eVV6DQoxOGhtL3VwYys2WXBwY1NkQTlpRjN4ay9PRi9YcllLQkxNRFVOUUw2enhGR0orWm05dHIwSU9ya0lLMGMzaWNIDQo5SmRkNFJjVFFoWXBNbEFiZytFdnZ6ZHFSMzlYVktMN0xhMTBmNXlNTUZzMnRvQXF1MFNVOHBaSEpjL3kraVBVDQorWWZld201aE9ZdldyV2RpZ0R1ajFGQy9ZcHFiK0h1L0U2SXRPdzZIanVnS0s0VXZUdERRVnhnV3ZVRklhcXpTDQp4ZGRIQnZLa0ZEcktUMlk3TzY2Vi9GdEV4VDlmaW1OY2Vrakxua3dpaHlGaVhQa1BLM0MyOVRRQ0xUTEtzM1JrDQppRkVmZkpHeGFSUHJSeENUV2RabEMvZmgxL3B6cHowTnNsQUxRay9LSmNvQ2NGTGJneGVLL3NkKw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"IjVjMDAyZjExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzcyMDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1969'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:07:33 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate generate-verification-code
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - IjVjMDAyZjExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzcyMDAwMCI=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/generateVerificationCode?api-version=2021-07-02
  response:
    body:
      string: '{"properties":{"verificationCode":"864BA806EEA043389983820747C2B0E8B1D1294658235DEF","subject":"TESTCERT000001","expiry":"Mon,
        02 May 2022 19:04:51 GMT","thumbprint":"179E19CB015E6ADF12879BD49093CF03870D0A40","isVerified":false,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Fri, 29 Apr 2022 19:07:34 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDeGpDQ0FhNmdBd0lCQWdJSU1YdUxjelpCSXJ3d0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURRMU1Wb1hEVEl5DQpNRFV3TWpFNU1EUTFNVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSaGEydHZjblZoTlhGc2RIVTFjM0UxDQpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVPaExrSlpiSXJOOExTellmaUpFDQpab1BaTE0zdGdIUHRNbkU0d2hia05NcXZxWHFUVk5kZE9TR0o2UnR0NTdZTDRRc1ZubW1hZDh3WmJIbGtaUktqDQpkbGZpckR5V1BiWFJna3hWRGR3dk43RjMxdzd6blpDTGlTSFc1ZXR0eDExNFowRE9XWWVNT1UrMFdBN0N0YmdtDQpHeUF2VkQ4U1JuL2RmV3FNclV1TGpQZjlkSzdmb0phaDNNbDVPSGZYQ2lIZ1hRQkI4MFRCa0NJWVRsbm1QVVFMDQo0S0pxSVJZNUk0RHpYR1FsZFBmTkEzK1BKTFg1bUtqb3U5T3FOR2xCWm9sOTlHSnFTcGtXNjkvNFVFMzFlM2lPDQpKUmFHZkdrdTJ6VHF3ellvNkVMTFd4aXp4Q1kvTXNSd0tpd01UM0hObFJXQVlSKzBhbmpmZnp5c1FHWUJZWVdKDQpzd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJlK0lsNXVodzhMVzBIeW11RDArem5NTks1eVV6DQoxOGhtL3VwYys2WXBwY1NkQTlpRjN4ay9PRi9YcllLQkxNRFVOUUw2enhGR0orWm05dHIwSU9ya0lLMGMzaWNIDQo5SmRkNFJjVFFoWXBNbEFiZytFdnZ6ZHFSMzlYVktMN0xhMTBmNXlNTUZzMnRvQXF1MFNVOHBaSEpjL3kraVBVDQorWWZld201aE9ZdldyV2RpZ0R1ajFGQy9ZcHFiK0h1L0U2SXRPdzZIanVnS0s0VXZUdERRVnhnV3ZVRklhcXpTDQp4ZGRIQnZLa0ZEcktUMlk3TzY2Vi9GdEV4VDlmaW1OY2Vrakxua3dpaHlGaVhQa1BLM0MyOVRRQ0xUTEtzM1JrDQppRkVmZkpHeGFSUHJSeENUV2RabEMvZmgxL3B6cHowTnNsQUxRay9LSmNvQ2NGTGJneGVLL3NkKw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"IjVjMDA0MzExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzc2MDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '2039'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:07:34 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: '{"certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDM2pDQ0FjYWdBd0lCQWdJSUJIdGFraTI2ZU1jd0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURjek5Wb1hEVEl5DQpNRFV3TWpFNU1EY3pOVm93T3pFNU1EY0dBMVVFQXd3d09EWTBRa0U0TURaRlJVRXdORE16T0RrNU9ETTRNakEzDQpORGRETWtJd1JUaENNVVF4TWprME5qVTRNak0xUkVWR01JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBDQpNSUlCQ2dLQ0FRRUE5U0ZHOGs3QVlYa2txT1JoNkdodENXL1ZOZFFjNmV4OExBbnhoWHVmN05HbHE4ZDREZStZDQpPL0JzcGNXL1RZRFA1cUphTVpXeUlIdEdBdW9majNGYzcybFZGL3Vqbm1iSk5CdW9jdGRIS3dmTVdCeHlQMDIyDQpydjErZHFsYmlScHJlVE9hZW9jZDN1N0d5aU1TajRDdm8rT3lIM1BCaEFETXlqWkZaRHhkNGxGQ0plWTJZLzNKDQo5S2pEYzFlbzZBd0l3SGpGak9QZzM1a0psMDlIVndweXVFK1ZMb1lnbTVnSklGemduN1VZUDdEOEJ1TEN6dWFLDQpPWWJrUTFlN2FzSHlBS2lRcWU1YW1ZQTVGR1Z4aWU0dk5aWUpRRDdwaWtrSGFIL29LVFZkdG5LTHk4eUkrS0lmDQpvSzgrWDdpTXhQcFh1aHh4Z25LMkpQU0hPUXg4aCtaNmJRSURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCDQpBUUNaQlY1dFV1Yllmb0N2dGdYUCt5V21rUzdrd09nQjEvTDJJTWRxaXdoc2lNc2Z6d2s4SUFPQjlNTllTYXBtDQpHaDhzSDRJQ2R0ZHNIZytGSXBuVEZzYnJIYjFMLzRqeUVoYnVRbStPczhOM1RaNXYxSTlMSDYrUFMrQ1Fya3FODQpNcFg5R080UEdGYTIyWFhBRGpZTTN6RDZndXlvZWhHM2ZlSjBLRkFqcVdqQzcxdzZjWjZJRmQ0S1VBSHFNc2ZiDQpCYVBGWVgzTlpiOXIvUjMveUp0WkhrSjF2MG1qSGFVcEIwK29vT1pUWkxKU01yZkZqQjhteTRieGppdU1KUVR2DQpHSjVhNDgvWWJEa2J5UVhENURGOFdwUVQ1cnFON1IzM1hybnNXS3djd2hobnA3OVkxWEppN09obmJBSCtUY3d4DQp4aCttV3BMZnN5WjZGOWJGQWxVRWNKVTYNCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0NCg=="}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate verify
      Connection:
      - keep-alive
      Content-Length:
      - '1451'
      Content-Type:
      - application/json
      If-Match:
      - IjVjMDA0MzExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzc2MDAwMCI=
      ParameterSetName:
      - --hub-name -g -n -p --etag
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/verify?api-version=2021-07-02
  response:
    body:
      string: '{"properties":{"subject":"TESTCERT000001","expiry":"Mon, 02 May 2022
        19:04:51 GMT","thumbprint":"179E19CB015E6ADF12879BD49093CF03870D0A40","isVerified":true,"created":"Mon,
        01 Jan 0001 00:00:00 GMT","updated":"Fri, 29 Apr 2022 19:07:36 GMT","certificate":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tDQpNSUlDeGpDQ0FhNmdBd0lCQWdJSU1YdUxjelpCSXJ3d0RRWUpLb1pJaHZjTkFRRUxCUUF3SXpFaE1COEdBMVVFDQpBd3dZVkVWVFZFTkZVbFJoYTJ0dmNuVmhOWEZzZEhVMWMzRTFNQjRYRFRJeU1EUXlPVEU1TURRMU1Wb1hEVEl5DQpNRFV3TWpFNU1EUTFNVm93SXpFaE1COEdBMVVFQXd3WVZFVlRWRU5GVWxSaGEydHZjblZoTlhGc2RIVTFjM0UxDQpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTVPaExrSlpiSXJOOExTellmaUpFDQpab1BaTE0zdGdIUHRNbkU0d2hia05NcXZxWHFUVk5kZE9TR0o2UnR0NTdZTDRRc1ZubW1hZDh3WmJIbGtaUktqDQpkbGZpckR5V1BiWFJna3hWRGR3dk43RjMxdzd6blpDTGlTSFc1ZXR0eDExNFowRE9XWWVNT1UrMFdBN0N0YmdtDQpHeUF2VkQ4U1JuL2RmV3FNclV1TGpQZjlkSzdmb0phaDNNbDVPSGZYQ2lIZ1hRQkI4MFRCa0NJWVRsbm1QVVFMDQo0S0pxSVJZNUk0RHpYR1FsZFBmTkEzK1BKTFg1bUtqb3U5T3FOR2xCWm9sOTlHSnFTcGtXNjkvNFVFMzFlM2lPDQpKUmFHZkdrdTJ6VHF3ellvNkVMTFd4aXp4Q1kvTXNSd0tpd01UM0hObFJXQVlSKzBhbmpmZnp5c1FHWUJZWVdKDQpzd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQVJlK0lsNXVodzhMVzBIeW11RDArem5NTks1eVV6DQoxOGhtL3VwYys2WXBwY1NkQTlpRjN4ay9PRi9YcllLQkxNRFVOUUw2enhGR0orWm05dHIwSU9ya0lLMGMzaWNIDQo5SmRkNFJjVFFoWXBNbEFiZytFdnZ6ZHFSMzlYVktMN0xhMTBmNXlNTUZzMnRvQXF1MFNVOHBaSEpjL3kraVBVDQorWWZld201aE9ZdldyV2RpZ0R1ajFGQy9ZcHFiK0h1L0U2SXRPdzZIanVnS0s0VXZUdERRVnhnV3ZVRklhcXpTDQp4ZGRIQnZLa0ZEcktUMlk3TzY2Vi9GdEV4VDlmaW1OY2Vrakxua3dpaHlGaVhQa1BLM0MyOVRRQ0xUTEtzM1JrDQppRkVmZkpHeGFSUHJSeENUV2RabEMvZmgxL3B6cHowTnNsQUxRay9LSmNvQ2NGTGJneGVLL3NkKw0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ0K"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"IjVjMDA0ZDExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzc4MDAwMCI="}'
    headers:
      cache-control:
      - no-cache
      content-length:
      - '1968'
      content-type:
      - application/json; charset=utf-8
      date:
      - Fri, 29 Apr 2022 19:07:35 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-writes:
      - '1199'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - IjVjMDA0ZDExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzc4MDAwMCI=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2021-07-02
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 29 Apr 2022 19:07:38 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      CommandName:
      - iot hub certificate delete
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      If-Match:
      - IjVjMDAzODExLTAwMDAtMDcwMC0wMDAwLTYyNmMzNzc0MDAwMCI=
      ParameterSetName:
      - --hub-name -g -n --etag
      User-Agent:
      - AZURECLI/2.35.0 azsdk-python-azure-mgmt-iothub/2.2.0 Python/3.8.3 (Windows-10-10.0.22000-SP0)
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/verified-certificate-000005?api-version=2021-07-02
  response:
    body:
      string: ''
    headers:
      cache-control:
      - no-cache
      content-length:
      - '0'
      date:
      - Fri, 29 Apr 2022 19:07:39 GMT
      expires:
      - '-1'
      pragma:
      - no-cache
      server:
      - Microsoft-HTTPAPI/2.0
      strict-transport-security:
      - max-age=31536000; includeSubDomains
      x-content-type-options:
      - nosniff
      x-ms-ratelimit-remaining-subscription-deletes:
      - '14999'
    status:
      code: 200
      message: OK
version: 1
